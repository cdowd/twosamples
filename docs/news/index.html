<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Changelog • twosamples</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Changelog"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">twosamples</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.0.1</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/cdowd/twosamples/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-news">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Changelog</h1>
      <small>Source: <a href="https://github.com/cdowd/twosamples/blob/HEAD/NEWS.md" class="external-link"><code>NEWS.md</code></a></small>
    </div>

    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.0.1" id="version-201">version 2.0.1<a class="anchor" aria-label="anchor" href="#version-201"></a></h2>
<p>This update contains two minor bugfixes.</p>
<div class="section level5">
<h5 id="summary-2-0-1">Summary<a class="anchor" aria-label="anchor" href="#summary-2-0-1"></a></h5>
<ol style="list-style-type: decimal"><li>Some of the unit tests use random numbers, one of those unit tests looking at the function <code>combine.twosamples</code> failed to consider default (desired) behavior for some possible values of those random numbers, and would occasionally fail. This was a minor issue that would not negatively impact any users, <em>except</em> that it would occasionally cause a CRAN check to fail, which could cause trouble. This update aims to fix the <em>test</em>, leaving all actual functionality unchanged, so that there should not be further CRAN check failures from this issue.</li>
<li>Removed “C++11” from “System Requirements” – as per current CRAN guidelines. The presence of C++11 as a requirement caused a note for R-CMD-Check in R4.3.0 and up. Currently, the lack of such a requirement does not affect compilation on any tested systems.</li>
</ol></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.0.0" id="version-200">version 2.0.0<a class="anchor" aria-label="anchor" href="#version-200"></a></h2><p class="text-muted">CRAN release: 2022-07-12</p>
<p>This is a large update. Three big changes:</p>
<ol style="list-style-type: decimal"><li>Substantial speed improvements – should improve both absolute speed and scaling</li>
<li>Added generics for plot, summary, print.</li>
<li>Switched from the package <code>Rcpp</code> to <code>cpp11</code> for the backend. This removes a runtime dependency on <code>Rcpp</code>, but adds one on <code>C++11</code> and adds a compile time dependency on <code>cpp11</code>.</li>
</ol><p>Together, all this lead to many changes under the hood. As a consequence, <code>permutation_test_builder</code> is substantially different (and no longer exported), and <code>order_stl</code> no longer exists.</p>
<div class="section level5">
<h5 id="speed-2-0-0">Speed<a class="anchor" aria-label="anchor" href="#speed-2-0-0"></a></h5>
<p>Each run of a *_test function now only sorts the data one time. Denoting the joint sample size N and the number of bootstraps K, this update moves the code from <span class="math inline"><em>O</em>(<em>K</em><em>N</em>log(<em>N</em>))</span> to <span class="math inline"><em>O</em>(<em>K</em><em>N</em>) + <em>O</em>(<em>N</em>log(<em>N</em>))</span>.</p>
<ul><li>Particularly for large samples or large numbers of bootstraps, this means a substantial improvement in speed.</li>
<li>This required reworking the underlying C++ <code>_stat</code> functions as well as the <code>permutation_test_builder</code>.
<ul><li>Instead of breaking code in unpredictable ways, this function is no longer exported. If you used it, archived copies can be found on github (particularly under the example R code versions), or by emailing me.</li>
</ul></li>
<li>Functions <code>*_stat</code> that are syntactically identical to the old ones still exist, but are no longer what is used by <code>permutation_test_builder</code>.</li>
<li>These changes likely reduced memory requirements for most users, though this is offset by the new default of storing bootstrap outputs.</li>
</ul></div>
<div class="section level5">
<h5 id="classes-2-0-0">Classes<a class="anchor" aria-label="anchor" href="#classes-2-0-0"></a></h5>
<p>There is now a ‘twosamples’ class, and generics for <code>print</code>, <code>summary</code>, and <code>plot</code>, as well as a function for combining outputs correctly. This should make the printed behavior much better. As well as making it easy to see a fair bit of information using summary.</p>
<ul><li>plotting currently shows a histogram of the bootstrap values and a red line where the test-statistic is.
<ul><li>This required making the <code>*_test</code> functions export the bootstrap values. If you have memory intensive applications, this can be turned off with a toggle <code>keep.boots</code>, at the cost of no longer being able to use the plotting.</li>
<li>In the future I may add the ability to plot the ECDFs and the test stat images. This is the main reason for the <code>keep.samples</code> toggle which is turned off by default.</li>
</ul></li>
</ul></div>
<div class="section level5">
<h5 id="possible-breaking-changes-2-0-0">Possible breaking changes<a class="anchor" aria-label="anchor" href="#possible-breaking-changes-2-0-0"></a></h5>
<ul><li>In order to only sort once, this is now a proper permutation test again. This should also resolve some classes of potential validity issues. Proofs in the associated paper are (at the moment) not relevant to this for the same reason.</li>
<li>
<code>order_stl</code> no longer exists. I do not believe anybody used this function outside its internal package use.</li>
<li>
<code>permutation_test_builder</code> is no longer exported. I am not aware of anyone using this function outside its internal package use. A similar function is still available, but will require changing the syntax of functions for its inputs.</li>
<li>Dependency switch from <code>Rcpp</code> to <code>cpp11</code> and an additional system requirement of <code>C++11</code>.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.2.0" id="version-120">version 1.2.0<a class="anchor" aria-label="anchor" href="#version-120"></a></h2><p class="text-muted">CRAN release: 2022-06-06</p>
<p>This version is primarily bug fixes and documentation updates. <strong>These bug fixes may affect outputs users see</strong>.</p>
<div class="section level5">
<h5 id="summary-1-2-0">Summary<a class="anchor" aria-label="anchor" href="#summary-1-2-0"></a></h5>
<p>I expect this update to be purely cosmetic for the vast majority of users. - For a few users of <code>ad_test</code> or <code>cvm_test</code> it is possible that re-running code will make significant differences to conclusions. - For the rare users of <code>ad_test</code> or <code>dts_test</code> (aka <code>two_sample</code>) who relied on the scale of the test stat (rather than merely the p-value), this update will change outputs substantially. In principal this change is merely re-scaling everything by <span class="math inline">(<em>n</em><sup><em>p</em></sup>)/(2<sup><em>p</em>/2</sup>)</span>.</p>
</div>
<div class="section level5">
<h5 id="main-code-changes-1-2-0">Main code changes:<a class="anchor" aria-label="anchor" href="#main-code-changes-1-2-0"></a></h5>
<ul><li>Fixed a major bug in how <code>ad_stat</code> and <code>cvm_stat</code> treated duplicates. This bug lead to excessive power in some situations. Re-running code, p-values and test stats may change.</li>
<li>Fixed a minor bug in how <code>ad_stat</code> and <code>dts_stat</code> calculated standard deviations. Re-running code this will change the scale/location of the test stat, but should not affect p-values.</li>
<li>Some minor performance improvements: e.g. eliminated some unnecessary comparisons <code>if (sd &gt;0)</code>.</li>
<li>renamed a functions internal variables to prevent an unlikely namespace conflict.</li>
</ul></div>
<div class="section level5">
<h5 id="some-documentation-changes-1-2-0">Some documentation changes:<a class="anchor" aria-label="anchor" href="#some-documentation-changes-1-2-0"></a></h5>
<ul><li>Website using pkgdown now exists at <a href="https://twosampletest.com" class="uri">https://twosampletest.com</a>
</li>
<li>link to website in description</li>
<li>Fixed an error in the documentation describing <code>ad_stat</code> and <code>dts_stat</code> – in which a square root term was dropped</li>
<li>updated discussion of order_stl</li>
<li>added some notes about ability to use factors (ordered or not)</li>
</ul></div>
<div class="section level5">
<h5 id="some-development-oriented-changes-1-2-0">Some development oriented changes:<a class="anchor" aria-label="anchor" href="#some-development-oriented-changes-1-2-0"></a></h5>
<ul><li>added some automated testing of the basic functions</li>
<li>added reverse dependency testing</li>
<li>added automated R-CMD-CHECK for each github commit</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.1.1" id="version-111">version 1.1.1<a class="anchor" aria-label="anchor" href="#version-111"></a></h2><p class="text-muted">CRAN release: 2020-07-19</p>
<p>This update is only fixing up documentation. Fixes a bug that lead to poor formatting, improves formatting of equations, adds graphs for test statistics, adds links between help pages. See v1.1.0 for recent improvements to codebase.</p>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.1.0" id="version-110">version 1.1.0<a class="anchor" aria-label="anchor" href="#version-110"></a></h2><p class="text-muted">CRAN release: 2020-07-14</p>
<p>This update is primarily fixing a bug which meant that the test stat sorting routine was O(N^2), not O(Nlog(N)).</p>
<div class="section level5">
<h5 id="major-updates-1-1-0">Major Updates<a class="anchor" aria-label="anchor" href="#major-updates-1-1-0"></a></h5>
<ul><li>order_cpp was using an O(N^2) sort routine that was supposed to be ditched before package release. It is now deprecated.</li>
<li>order_stl replaces order_cpp, using the STL sort function to run the required sorting routine.</li>
</ul></div>
<div class="section level5">
<h5 id="minor-updates-1-1-0">Minor Updates<a class="anchor" aria-label="anchor" href="#minor-updates-1-1-0"></a></h5>
<ul><li>All test stat calculations were using 3 more length N vectors than necessary. This has been fixed.</li>
<li>A paper demonstrating package components was posted to arXiv, and linked to throughout the documentation.</li>
<li>The folder R/Extras was updated to use the code for the simulations in the arXiv paper.</li>
<li>permutation_test_builder is now sampling with replacement.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.0" id="version-100">version 1.0.0<a class="anchor" aria-label="anchor" href="#version-100"></a></h2><p class="text-muted">CRAN release: 2018-12-03</p>
<p>The package has been released. The package includes test statistic functions (written in C++) for the following two-sample distance measures:</p>
<ul><li>Kolmogorov-Smirnov</li>
<li>Kuiper</li>
<li>Cramer-Von Mises</li>
<li>Anderson-Darling</li>
<li>Wasserstein Metric</li>
<li>An updated Wasserstein – referred to as DTS</li>
</ul><p>Each test statistic also has a corresponding permutation test function.</p>
<p>In addition there are two functions:</p>
<ul><li>permutation_test_builder</li>
<li>order_cpp These are primarily intended for internal use, but there was no reason to not export them for other’s use.</li>
</ul></div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by <a href="https://codowd.com" class="external-link">Connor Dowd</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

